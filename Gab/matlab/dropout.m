clc;clear all;close all;
h = [1, 1, 0, 1, 1, 1, 0, 1, 1, 1];
h = mshape(h,[1,10,1]);
a = [-0.9505901932716370, 1.4249495267868042, 0.8262844681739807, 0.0125732757151127, -0.7589943408966065, 0.1418175548315048, 1.2539244890213013, -1.7759163379669189, 2.1604921817779541, 0.7432328462600708];
a = mshape(a,[1,10,1]);
s = [-0.9505901932716370, 1.4249495267868042, 0.0000000000000000, 0.0125732757151127, -0.7589943408966065, 0.1418175548315048, 0.0000000000000000, -1.7759163379669189, 2.1604921817779541, 0.7432328462600708];
s = mshape(s,[1,10,1]);
ds = [-0.8464707136154175, 0.9844612479209900, -0.1646324247121811, 0.4219860732555389, -2.3681051731109619, 1.4723615646362305, -0.8437575101852417, -2.7296791076660156, 4.0612497329711914, 0.6419252157211304];
ds = mshape(ds,[1,10,1]);
da = [-0.8464707136154175, 0.9844612479209900, -0.0000000000000000, 0.4219860732555389, -2.3681051731109619, 1.4723615646362305, -0.0000000000000000, -2.7296791076660156, 4.0612497329711914, 0.6419252157211304];
da = mshape(da,[1,10,1]);
sum(abs(h(:)))/length(h(:))
sm = a .* h;
figure
for i = 1:size(s,3)
	subplot(size(s,3),1,i);hold on;
 tmp = [];
  for j=1:size(s,1)
    tmp =[tmp s(j,:,i)];
  end

	plot(tmp)
 tmp = [];
  for j=1:size(sm,1)
    tmp =[tmp sm(j,:,i)];
  end

	plot(tmp)
end
suptitle(sprintf('s vs sm erro = %f',var((s(:) - sm(:)))));
legend('s','sm');
if gcf() == 1
print('../matlab/dropout.m.pdf')else print('../matlab/dropout.m.pdf', '-append'); end;